<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>우리 학교 급식 식단표</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- 헤더 -->
    <header class="header">
        <div class="container">
            <h1>🍽️ 우리 학교 급식 식단표</h1>
            <p>NEIS 교육청 Open API로 실시간 급식 정보를 확인하세요</p>
        </div>
    </header>

    <!-- 메인 컨테이너 -->
    <div class="container main-container">
        
        <!-- 1단계: 날짜 선택 -->
        <section class="card">
            <h2>📅 1단계: 급식 날짜 선택</h2>
            <p class="info-text">🏫 인천광역시교육청 소속 학교 전용</p>
            <div class="input-section">
                <div class="input-group">
                    <label for="schoolSearch">학교 이름:</label>
                    <input type="text" id="schoolSearch" placeholder="예: 간재울초등학교">
                    <div id="schoolResults" class="school-results"></div>
                    <input type="hidden" id="schoolCode">
                    <span class="input-hint">학교 이름을 입력하면 자동으로 검색됩니다</span>
                </div>
                
                <div class="input-group">
                    <label for="selectedDate">급식 날짜:</label>
                    <input type="date" id="selectedDate">
                </div>
                
                <button id="fetchBtn" class="fetch-btn">🍽️ 급식 정보 불러오기</button>
                <p id="fetchStatus" class="status-text"></p>
            </div>
        </section>

        <!-- 2단계: 메뉴 표시 -->
        <section id="menuSection" class="card" style="display: none;">
            <h2>🍽️ 2단계: 급식 메뉴</h2>
            <div class="menu-display">
                <h3 id="selectedDateDisplay"></h3>
                <div id="menuList" class="menu-list"></div>
            </div>
        </section>

        <!-- 3단계: 이미지 생성 (Hugging Face FLUX) -->
        <section id="imageSection" class="card" style="display: none;">
            <h2>🖼️ 3단계: 급식 이미지 생성 (선택)</h2>
            <p class="info-text">⚠️ script.js에 Hugging Face API 토큰을 미리 설정해야 합니다</p>
            <button id="generateImageBtn" class="generate-btn">🎨 AI로 급식 이미지 생성하기</button>
            <div id="loadingState" class="loading-state" style="display: none;">
                <div class="spinner"></div>
                <p>FLUX 모델이 이미지 생성 중... (약 10~30초 소요)</p>
            </div>
            <div id="imageResult" class="image-result" style="display: none;">
                <img id="generatedImage" alt="생성된 급식 이미지">
                <p id="imageInfo"></p>
            </div>
        </section>

    </div>

    <!-- Footer -->
    <footer class="footer">
        <p>💡 개발: NEIS Open API 연동 | 데이터 출처: 교육부 나이스</p>
    </footer>

    <script src="script.js"></script>
</body>
</html>
